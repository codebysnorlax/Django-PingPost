{% extends "layout.html" %}
{% comment %} ------------------------------------------- {% endcomment %}
{% block title %}
Ping-Post
{% endblock %}
{% comment %} ------------------------------------------- {% endcomment %}
{% block content %}
<div class="tweet-grid">
   {% for tweet in tweets %}
   <div class="card pp-card tweet-card">
      {% if tweet.photo %}
      <img src="{{ tweet.photo.url }}" class="card-img-top" alt="tweet-pic" />
      {% else %}
      <div class="card-img-top text-center p-4 pp-muted">No image</div>
      {% endif %}

      <div class="card-body">
         <h5 class="card-title">Ping by {{tweet.user.username}}</h5>
         <p class="card-text">{{tweet.text}}
         </p>
         {% if tweet.user == user %}
         <div class="justify-content-end d-flex gap-2">
            <a href="{% url 'tweet_edit' tweet.id %}" class="btn btn-sm btn-outline-primary">
               <i class="bi bi-pencil"></i>
            </a>
            <a href="{% url 'tweet_delete' tweet.id %}" class="btn btn-sm btn-outline-danger">
               <i class="bi bi-trash"></i>
            </a>
         </div>
         {% endif %}
      </div>
   </div>
   {% endfor %}
</div>

{% if tweets %}
<footer class="mt-5 py-4 bg-dark border-top">
   <div class="container">
      <div class="d-flex flex-column flex-md-row justify-content-center align-items-center gap-4 gap-md-5 text-center">
         <div class="d-flex gap-4">
            <div class="text-center">
               <div class="fw-bold text-primary">{{ tweets|length }}</div>
               <small class="text-muted">Posts</small>
            </div>
            <div class="text-center">
               <div class="fw-bold text-success">{{ tweets|length|add:42 }}</div>
               <small class="text-muted">Views</small>
            </div>
            <div class="text-center">
               <div class="fw-bold text-warning">Active</div>
               <small class="text-muted">Status</small>
            </div>
         </div>
         <div class="d-flex gap-3">
            <a href="https://github.com/codebysnorlax" class="text-muted"><i class="bi bi-github"></i></a>
            <a href="https://linkedin.com/in/ravi-ranjan-9b338b333" class="text-muted"><i class="bi bi-linkedin"></i></a>
            <a href="https://twitter.com/ravi_ranjan_404" class="text-muted"><i class="bi bi-twitter"></i></a>
         </div>
         <small class="text-muted">CS50 Final Project</small>
      </div>

   </div>
</footer>
{% endif %}
{% endblock %}
