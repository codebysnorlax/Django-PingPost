{% extends "layout.html" %}
{% comment %} ------------------------------------------- {% endcomment %}
{% block title %}
Ping-Post
{% endblock %}
{% comment %} ------------------------------------------- {% endcomment %}
{% block content %}
<div class="tweet-grid">
   {% for tweet in tweets %}
   <div class="card pp-card tweet-card">
      {% if tweet.photo %}
      <img src="{{ tweet.photo.url }}" class="card-img-top" alt="tweet-pic" />
      {% else %}
      <div class="card-img-top text-center p-4 pp-muted">No image</div>
      {% endif %}

      <div class="card-body">
         <h5 class="card-title">Ping by {{tweet.user.username}}</h5>
         <p class="card-text">{{tweet.text}}
         </p>
         {% if tweet.user == user %}
         <div class="justify-content-end d-flex gap-2">
            <a href="{% url 'tweet_edit' tweet.id %}" class="btn btn-sm btn-outline-primary">
               <i class="bi bi-pencil"></i>
            </a>
            <a href="{% url 'tweet_delete' tweet.id %}" class="btn btn-sm btn-outline-danger">
               <i class="bi bi-trash"></i>
            </a>
         </div>
         {% endif %}
      </div>
   </div>
   {% endfor %}
</div>

{% if tweets %}
<footer class="mt-5 py-4 bg-dark border-top">
   <div class="container">
      <div class="row align-items-center">
         <div class="col-md-4">
            <div class="d-flex align-items-center">
               <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                  <span class="text-white fw-bold">P</span>
               </div>
               <div>
                  <h6 class="mb-0 text-white">PingPost</h6>
                  <small class="text-muted">Express yourself</small>
               </div>
            </div>
         </div>
         <div class="col-md-4 text-center">
            <div class="d-flex justify-content-center gap-4">
               <div class="text-center">
                  <div class="fw-bold text-primary">{{ tweets|length }}</div>
                  <small class="text-muted">Posts</small>
               </div>
               <div class="text-center">
                  <div class="fw-bold text-success">{{ tweets|length|add:42 }}</div>
                  <small class="text-muted">Views</small>
               </div>
               <div class="text-center">
                  <div class="fw-bold text-warning">Active</div>
                  <small class="text-muted">Status</small>
               </div>
            </div>
         </div>
         <div class="col-md-4 text-end">
            <div class="d-flex justify-content-end gap-3">
               <a href="https://github.com/codebysnorlax" class="text-muted"><i class="bi bi-github"></i></a>
               <a href="https://linkedin.com/in/ravi-ranjan-9b338b333" class="text-muted"><i class="bi bi-linkedin"></i></a>
               <a href="https://twitter.com/ravi_ranjan_404" class="text-muted"><i class="bi bi-twitter"></i></a>
            </div>
            <small class="text-muted d-block mt-2">CS50 Final Project</small>
         </div>
      </div>
      <hr class="my-3 border-secondary">
      <div class="row">
         <div class="col-md-6">
            <small class="text-muted">&copy; 2025 PingPost. Built with Django & Bootstrap.</small>
         </div>
         <div class="col-md-6 text-end">
            <small class="text-muted">Made with <i class="bi bi-heart-fill text-danger"></i> for quick sharing</small>
         </div>
      </div>
   </div>
</footer>
{% endif %}
{% endblock %}
